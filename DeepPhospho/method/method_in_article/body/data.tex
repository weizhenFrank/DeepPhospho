
\subsection{Data composition and preprocess}
The sequence is represented by the symbol of amino acids such as L, K, M, etc., typically 7-50 in length. Specially, we use 1 to represent the oxidation of methionine (M), and we use 2,3,4 to represent the phosphorylation of serine(S), threonine(T), tyrosine(Y), respectively. In further, we support the peptide with N-terminal acetyl modification. We use the * symbol to indicate modification, @ to indicate no modification. 

Ion intensity datasets are comprised of $\{X, y\}$ pair. 
$X := \{ <x_0, x_1, x_2, x_3,\dots, x_i, \dots, x_n, +q> \}$. $x_0$ is the symbol of * or @. 
$x_i (i>= 1)$ is amino acid. $n$ is the length of peptide. This representation is also used in RT prediction. $+q$ is the charge carried by the peptide sequence before it is fragmented in the mass spectrometer. \( y \) is the spectrum of the peptide. Each y is composed of pairs of key and value.
The key is the ion's name, such as y2+1, b6+2, and the value is their corresponding raw intensity.
We divide each intensity by the maximum of the intensities within a peptide sequence to normalize each intensity into 0-1. As kinds of ions in the dataset is severely imbalanced, we only select the 8 types of ions same as pdeep2, that is b(y)i+1-noloss, b(y)i+2-noloss, b(y)i+1-1,H3PO4 and b(y)i+2-1,H3PO4, i indicating the site of b(y)ion to train and predict. The shape of ion intensity input is illustrated in the supplementary.

For RT datasets, they are comprised of \( \{X, y\} \) pair. 
$X:= \{ <x_0, x_1, x_2, x_3,\dots, x_i, \dots, x_n>\}$. \( y \) is the retention time. 
As the retention time is distributed in the real-world unit, such as minutes or seconds, we scale each dataset by its maximal and minimal of retention time to 0 - 1 by the following formula. 
\[RT_{normalized} = \frac{RT-min(RT)}{max(RT)-min(RT)}\]






